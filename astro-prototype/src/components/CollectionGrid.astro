---
import type { CollectionChild } from '../lib/api';

interface Props {
  children: CollectionChild[];
  covers?: Record<string, string | null>;
}

const { children, covers = {} } = Astro.props;
---

<div class="px-4 py-6">
  <div class="grid grid-cols-2 gap-4">
    {children.map((child) => {
      const cover = child.cover ?? covers[child.uuid] ?? null;
      return (
        <a
          href={`/page/${child.uuid}`}
          class="block bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow"
        >
          {cover && (
            <img
              src={cover}
              alt={child.title || child.type}
              class="w-full aspect-video object-cover"
            />
          )}
          <div class="p-3">
            <h3 class="text-sm font-medium text-gray-900 line-clamp-2">
              {child.title || child.type}
            </h3>
          </div>
        </a>
      );
    })}
  </div>
</div>
