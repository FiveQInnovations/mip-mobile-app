appId: com.fiveq.ffci
---
# Test Audio Sermons Collection Integration (Ticket 083)
# This test should FAIL initially to showcase the bug where collection items don't load
# After fixing the code, this test should PASS

# Tap on Home tab to ensure we're on the home screen
- tapOn:
    text: "Home"
    optional: true

- waitForAnimationToEnd

# Verify we're on the home screen
- assertVisible:
    text: "Home tab"

# Take screenshot of home
- takeScreenshot:
    path: "maestro/screenshots/083-1-home-screen"

# Scroll down to see Audio Sermons card
- scrollUntilVisible:
    element:
      text: "Audio Sermons"

- takeScreenshot:
    path: "maestro/screenshots/083-2-audio-sermons-card-visible"

# Tap on Audio Sermons card to navigate to collection
- tapOn:
    text: "Audio Sermons"

- waitForAnimationToEnd

# Wait for collection screen to load
- waitForAnimationToEnd

# Take screenshot of sermons collection (should show empty state initially)
- takeScreenshot:
    path: "maestro/screenshots/083-3-sermons-collection-screen"

# ASSERTION: This should FAIL initially - collection should have items but shows empty
# After fix, this assertion should PASS
- scrollUntilVisible:
    element:
      text: "God's Power Tools"
    timeout: 10000
- assertVisible:
    text: "God's Power Tools"

# If we get here, items loaded successfully - take final screenshot
- takeScreenshot:
    path: "maestro/screenshots/083-4-sermons-loaded-success"

# Test navigation to detail page (Ticket 087)
# Tap on "God's Power Tools" to navigate to detail
- tapOn:
    text: "God's Power Tools"

- waitForAnimationToEnd

# Wait for detail page to load
- waitForAnimationToEnd

# ASSERTION: Verify we're on the detail page
# The collection list view should no longer be visible
- assertNotVisible:
    text: "Collection Items"
    optional: true

# Verify the detail page title is visible
- assertVisible:
    text: "God's Power Tools"

# Take screenshot of detail page
- takeScreenshot:
    path: "maestro/screenshots/087-5-detail-page"
