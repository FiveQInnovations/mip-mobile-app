appId: com.fiveq.ffci
---
# Test internal page back navigation on iOS
# This test verifies that after navigating to an internal page via a link,
# tapping the "Go back" button returns to the previous page.
#
# Ticket: 054-internal-page-back-navigation

- runFlow:
    file: "verify-header-renders.yaml"

- tapOn:
    text: "Resources tab"
- waitForAnimationToEnd

- assertVisible:
    text: "Resources for Firefighters and Their Families"

# Scroll to find the FFC Media Ministry button
# scrollUntilVisible is the deterministic way to scroll until an element is found
- scrollUntilVisible:
    element:
      text: "FFC Media Ministry"
    direction: DOWN
    timeout: 30000
    visibilityPercentage: 50
    centerElement: true

# Tap the FFC Media Ministry button
- tapOn:
    text: "FFC Media Ministry"

- waitForAnimationToEnd

# Verify we're on the FFC Media Ministry page
- assertVisible:
    text: "firefighters.org"
- assertVisible:
    text: "Go back"

- takeScreenshot:
    path: "maestro/screenshots/internal-page-back-navigation-ios"

- tapOn:
    text: "Go back"
- waitForAnimationToEnd

# Verify we're back on the Resources page
- assertVisible:
    text: "Resources for Firefighters and Their Families"
